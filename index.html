<!doctype html>
<html lang="fr">

	<head>
		<meta charset="utf-8">

		<title>JavaScriptÂ : le futur, câ€™est maintenantÂ ! â€¢ Christophe Porteneuve @ MS experiences 2016</title>

		<meta name="description" content="JavaScriptÂ : le futur, câ€™est maintenantÂ !">
		<meta name="author" content="Christophe Porteneuve">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link href='https://fonts.googleapis.com/css?family=Merriweather:700|Source+Sans+Pro:300,600,300italic,600italic|Source+Code+Pro:400,600' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/animate.min.css">
		<link rel="stylesheet" href="css/theme/sky.css" id="theme-basis">
		<link rel="stylesheet" href="css/theme/pw15.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/prism.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->

<!--     <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-43650325-10', 'auto');
      ga('require', 'linkid');
      ga('send', 'pageview');
    </script> -->
	</head>

	<body id="prioFix">

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>JavaScriptÂ : le futur, câ€™est maintenantÂ !</h1>
					<p>
						<small>Un atelier de <a href="http://tddsworld.com/">Christophe Porteneuve</a> Ã  <a href="https://experiences.microsoft.fr/Event/session/javascript-le-futur-cest-maintenant/70cc4688-d648-e611-80c3-000d3a2220b4">MS experiences 2016</a></small>
					</p>
				</section>

				<section id="whoami">
					<h2>whoami</h2>

					<pre><code data-trim class="language-js">
var christophe = {
  age:        38.91991786447639,
  family:     { wife: 'Ã‰lodie', son: 'Maxence' },
  city:       'Paris, FR',
  company:    'Delicious Insights',
  trainings:  ['JS Total', 'Node.js', 'Git Total'],
  webSince:   1995,
  claimsToFame: [
    'Prototype.js',
    'Ruby On Rails',
    'Bien DÃ©velopper pour le Web 2.0',
    'Prototype and Script.aculo.us',
    'Paris Web'
  ]
}
          </code></pre>
				</section>

        <section data-state="theme-color-silver-green">
					<section id="naming-and-support">
  					<h1>ES2015+</h1>
            <h3>gniÂ ?!</h3>
					</section>

          <section id="es2015" data-duration="01:00">
            <h2>ES6 ou ES2015Â ?</h2>

            <p>RappelÂ : ES = ECMAScript = standard officiel de JavaScript.</p>
            <br/>
            <p>Avant 2015, on disait ES6, ES7â€¦</p>
            <p>Par exemple, <strong>ES3 = 1999</strong>, ES5 = 2009, ES6 = 2015</p>
            <br/>
            <p>Mais depuis 2015, on sort une version par an (en juin).</p>
            <p>On Â«Â met la pressionÂ Â» de tenue Ã  jour en numÃ©rotant par annÃ©e.</p>
            <p>Les noms officiels sont donc dÃ©sormais ES2015, ES2016, etc.</p>
          </section>

          <section id="native-support" data-duration="03:00">
            <h2>Et si on avait besoin de rienÂ ?</h2>

            <p>La prise en charge native est bien meilleure que ce quâ€™on croit.</p>
            <ul>
              <li>Edge 14 = 93%</li>
              <li>Firefox 52 = 94%</li>
              <li>Chrome 53 / Opera 40 = 97%</li>
              <li>Safari 10 (dont iOS 10) = 100%</li>
              <li>Node 6.5 = 97%</li>
            </ul>

            <p>Et Â«Â 90Â %Â Â» Ã§a suffit en gÃ©nÃ©ral largement ğŸ˜‰</p>
          </section>

          <section id="support-cracks" data-duration="01:30">
            <h2>OK maisâ€¦ dans la vraie vieâ€¦</h2>

            <p>Pas encore de solution propre aux modules ES2015 natifs. <br/>Vous savez ce truc qui dÃ©boÃ®teÂ :</p>

            <pre><code class="language-js" data-trim data-keep-tags="u">
<u>import React, { PropTypes } from 'react'</u>

<u>export default</u> function Gauge ({ value, max = 100 }) {
  return &lt;LinearProgress mode='determinate' value={value} max={max} /&gt;
}
            </code></pre>

            <p>IE (mÃªme 11), Firefox &lt; 45, Chrome &lt; 49, Opera &lt; 36, Safari &lt; 10, iOS &lt; 10, Node &lt 6, Android Browserâ€¦</p>
          </section>

          <section id="es2016-plus" data-duration="00:30">
            <h2>Et ES2016+, alorsÂ ?</h2>

            <p>En plus on nâ€™a parlÃ© que de ES2015 lÃ , mais on a ES2016, nonÂ ?</p>
            <p>Et lâ€™an prochain, avec ES2017 on fait quoiÂ ? Et lâ€™annÃ©e dâ€™aprÃ¨sÂ ?</p>
          </section>
				</section> <!-- #naming-and-support -->

				<section data-state="theme-color-forest-yellow">
          <section id="babel">
            <h1><img src="images/babel-logo.svg" style="background: none" width="100%" alt="BabelÂ !" title="Logo du projet Babel" /></h1>
            <h3>Ã§a roxxe des poneys</h3>
          </section>

          <section id="babel-principle" data-duration="00:30">
            <h2>Principe</h2>

            <p>TranspileurÂ : source â¡ï¸ autre source</p>
            <p>En lâ€™occurence, Â«Â autre sourceÂ Â» peut descendre jusquâ€™Ã  ES5</p>
            <p>Lâ€™idÃ©eÂ : utiliser les derniÃ¨res specs <strong>aujourdâ€™hui</strong> (du moment quâ€™elles sont transpilables).</p>
            <p>La performance nâ€™est, en pratique, pas un problÃ¨me.</p>
            <footer>(En pratique, presque tout ES2015 est transpilable, sauf les proxies)</footer>
          </section>

          <section id="babel-ecosystem" data-duration="01:00">
            <h2>Babel et lâ€™Ã©cosystÃ¨me JS</h2>

            <p>Babel est tÃ©lÃ©chargÃ© (npm) plus de 57K/jour</p>
            <p>Environ 2Â 000 modules en dÃ©pendent</p>
            <p>Quand Babel a un souci, lâ€™Ã©cosystÃ¨me JS a chaudâ€¦</p>
            <p><a href="https://babeljs.io/docs/setup/">IntÃ©grÃ© avec lâ€™univers</a> (on y reviendra)</p>
            <p>A permis lâ€™essor (enfinÂ !) dâ€™ES2015+ dans des projets de premier plan (React, Ember 2, Aurelia, JSPMâ€¦) et leurs utilisateurs (Facebook, Airbnb, Instagram, etc.)</p>
          </section>

          <section id="babel-backers" data-duration="00:30">
            <h2>PÃ©rennitÃ© de Babel</h2>

            <p>NÃ© en 2014, le bÃ©bÃ© de Sebastian McKenzie ğŸ™.</p>
            <p>DÃ©sormais 250+ contributeurs.</p>
            <p>Comme Facebook lâ€™a jugÃ© critique Ã  la mission, ils ont fait comme dâ€™habâ€™Â : on embauche le crÃ©ateur et les plus gros contributeurs, juste pour continuer.</p>
            <p>Ã‰lÃ©ment critique dâ€™infrastructure pour beaucoup de grosses boÃ®tes, et 100% FLOSS, donc on est tranquilles.</p>
            <p>On aura toujours besoin de Babel pour jouer tÃ´t avec les fonctionnalitÃ©s futures (ce qui est essentiel au processus du TC39).</p>
          </section>

          <section id="babel-cherry-pick" data-duration="00:30">
            <h2>Inutile de tout transpilerÂ !</h2>

            <p>Depuis Babel 6, on choisit les syntaxes quâ€™on veut transpiler.  Tout le reste est laissÃ© tel quel (considÃ©rÃ© natif).</p>

            <p>Plus la prise en charge native augmente, moins on a besoin de transpiler de portions de code.  On a tout intÃ©rÃªt Ã  Ã©viter lâ€™approche Â«Â bulldozerÂ Â» hors des PoC / dÃ©mos / tutos.</p>

            <p>On gagne en perfs au build (transpilation) et Ã  lâ€™exÃ©cution (code natif plutÃ´t que polyfillÃ©).</p>

            <footer>Notez toutefois que le code transpilÃ© par Babel a des performances remarquables.</footer>
          </section>

          <section id="babel-plugins" data-duration="01:00">
            <h2>Plugins</h2>
            <h3>Syntaxes et transforms</h3>

            <p>Un plugin de <strong>syntaxe</strong> permet au parser de <strong>reconnaÃ®tre</strong> une syntaxe au sein du flux JS.  Mais Babel ne la transpile pas pour autant.</p>
            <p>Un plugin de <strong>transform(ation)</strong> applique le <em>transpiling</em> correspondant pour aboutir Ã  de lâ€™ES5.  Ils exploitent automatiquement les Ã©ventuels plugins de syntaxe dont ils ont besoin.</p>
            <p>
              Mais <a href="https://babeljs.io/docs/plugins/">Ã§a fait du monde</a>Â :
              Babel propose actuellement <strong>plus de 60 transforms</strong>, dont 21 rien que pour ES2015Â !
            </p>
          </section>

          <section id="babel-presets" data-duration="01:00">
            <h2>Presets</h2>

            <p>On a donc la notion de <strong>preset</strong>Â : des groupes thÃ©matiques de plugins pour un but prÃ©cis. On en compteâ€¦</p>

            <ul>
              <li><strong>5 officiels</strong> (<tt>es2015</tt>, <tt>es2016</tt>, <tt>es2017</tt>, <strong><tt>latest</tt></strong> et <tt>react</tt>),</li>
              <li>4 expÃ©rimentaux dÃ©diÃ©s aux stades TC-39 (<tt>stage-0</tt> Ã  <tt>stage-3</tt>),</li>
              <li>et plus de <strong>750 communautairesÂ !</strong></li>
            </ul>

            <p>Par exemple, <tt>latest</tt> est le Gros Billâ„¢ qui transpile lâ€™univers (tout ES2015+), mais les contribs ont <tt>latest-minimal</tt>, idÃ©al en Node, qui <em>feature-detect</em> point par point ğŸ˜</p>

            <p>On peut bien sÃ»r mÃ©langer presets et plugins spÃ©cifiques.</p>
          </section>

          <section id="babel-beyond-es2016" data-duration="00:30">
            <h2>Bien plus quâ€™ES2016</h2>

            <p>On lâ€™a vu, Babel gÃ¨re dÃ©jÃ  ES2016, ES2017, et les stades qui alimenteront les versions ultÃ©rieures. Par exempleÂ :</p>

            <ul>
              <li><em>object spread/rest</em> et <tt>static</tt>, qui sont au stade 2</li>
              <li>le <em>binding operator</em> qui est au stade 0</li>
            </ul>

            <p>Mais on a aussi des plugins (officielsÂ !) de syntaxes tierces (notamment JSX et les annotations Flow), de conversion de modules (ex. ES2015 â¡ï¸ CommonJS), de minification / optimisation (notamment pour React).</p>
          </section>

          <section id="babel-settings" data-duration="00:30">
            <h2>Comment je lui disÂ ?</h2>

            <p>Soit via un fichier <tt>.babelrc</tt> Ã  la racine du projet (marche partout)</p>
            <p>Soit via une clÃ© <code>"babel"</code> dans le <tt>package.json</tt> (si tu transpiles au sein dâ€™un script npm).</p>
            <p>Ã‡a a la mÃªme tÃªte, heinÂ : du JSON. ExempleÂ :</p>

            <pre><code class="language-json" data-trim>
{
  "presets": ["latest-minimal"],
  "plugins": [
    "transform-object-rest-spread",
    "transform-class-properties",
    "transform-function-bind"
  ]
}
            </code></pre>

            <p>Du coup il faut avoir les modulesÂ :</p>

            <pre><code class="language-bash" data-trim>
npm install --save-dev babel-preset-latest-minimal \
  babel-transform-object-rest-spread \
  babel-transform-class-properties \
  babel-transform-function-bind
            </code></pre>
          </section>
        </section> <!-- #babel -->

        <section data-state="theme-color-blue-yellow">
          <section id="babelizing">
            <h1>Jusquâ€™oÃ¹ je Â«Â babelizeÂ Â»Â ?</h1>
          </section>

          <section id="babelize-ie9-plus" data-duration="01:00">
            <h2>CÃ´tÃ© browser (si IE9+)</h2>

            <p class="breathing">En gros, il te faut tout. IE9 a 100% dâ€™ES5 (hors le mode strict), mais 0% dâ€™ES2015. IE10 en a 3%, IE11â€¦ 11%.  Donc bon.</p>

            <pre><code class="language-js" data-trim data-keep-tags="u">
"presets": ["es2015"] // ou "latest" si tu veux E2015+
            </code></pre>
          </section>

          <section id="babelize-evergreens" data-duration="01:00">
            <h2>CÃ´tÃ© browsers (evergreens)</h2>

            <p class="breathing">Tu prends les 2 derniÃ¨res versions (faÃ§on Autoprefixer), tu examines tes besoins et la <a href="https://kangax.github.io/compat-table/es6/">table de compatibilitÃ©</a>, et tu listes ce qui manqueâ€¦  ExempleÂ :</p>

            <pre><code class="language-js" data-trim data-keep-tags="u">
"plugins": [
  "transform-es2015-parameters",
  "transform-es2015-destructuring",
  "transform-es2015-spread",
  "transform-async-to-generator",
  "transform-transform-runtime",
  "transform-regenerator"
]
            </code></pre>

            <footer>(Pour Safari, qui rame loin, jâ€™ai limitÃ© Ã  10+)</footer>
          </section>

          <section id="babelize-node4" data-duration="01:00">
            <h2>Node 4.x LTS</h2>

            <p>On a des <a href="https://github.com/jbach/babel-preset-es2015-node4">presets dÃ©diÃ©s</a>, maintenus par la communautÃ©. ExempleÂ :</p>

            <pre><code class="language-js" data-trim data-keep-tags="u">
"presets": ["es2015-node4", "es2016-node4"], // ou ["latest-minimal"]
"plugins": ["transform-regenerator"]
            </code></pre>

            <p>Mais câ€™est bon avec Node 4, lÃ â€¦  Dans quelques jours la nouvelle LTS câ€™est Node 6Â !</p>
          </section>

          <section id="babelize-node6" data-duration="01:00">
            <h2>Node 6.x LTS</h2>

            <p>Excellente prise en charge native de ES2015+, le preset communautaire est donc nettement plus lÃ©ger.</p>

            <pre><code class="language-js" data-trim data-keep-tags="u">
"presets": ["latest-node6"] // ou ["latest-minimal"]
            </code></pre>
          </section>

          <section id="babelize-electron" data-duration="01:00">
            <h2>Electron</h2>

            <p>Electron 1.4.1 est basÃ© sur Chromium 53, Node 6.5 et <strong>v8 5.3</strong>, autant dire que vous avez un gros, gros paquet dâ€™ES pris en charge en natif (quasiment tout ES2016 et diverses parties dâ€™ES2017).</p>

            <p class="breathing">Vu que le v8 est partagÃ©, la meilleure approche est sans douteÂ :</p>

            <pre><code class="language-js" data-trim data-keep-tags="u">
"presets": ["latest-minimal"]
            </code></pre>
          </section>
        </section> <!-- #babelizing -->

        <section data-state="theme-color-silver-green">
          <section id="babel-ides">
            <h3>Comment jâ€™intÃ¨gre Babel dans</h3>
            <h1>mon EDIÂ ?</h1>
          </section>

<!--
+ (05'00") Mon EDI
 -->

          <section id="vscode" data-duration="FIXME">
            <h2>FIXME</h2>

            <p>FIXME</p>
          </section>

          <section id="vs" data-duration="FIXME">
            <h2>FIXME</h2>

            <p>FIXME</p>
          </section>

          <section id="jetbrains" data-duration="FIXME">
            <h2>FIXME</h2>

            <p>FIXME</p>
          </section>

          <section id="eclipse" data-duration="FIXME">
            <h2>FIXME</h2>

            <p>FIXME</p>
          </section>
        </section> <!-- #babel-ides -->

<!--
  + (07'00") Mon Ã©diteur
-->

        <section data-state="theme-color-forest-yellow">
          <section id="babel-editors">
            <h3>Comment jâ€™intÃ¨gre Babel dans</h3>
            <h1>mon Ã©diteurÂ ?</h1>
          </section>

          <section id="st3" data-duration="FIXME">
            <h2>FIXME</h2>

            <p>FIXME</p>
          </section>

          <section id="atom" data-duration="FIXME">
            <h2>FIXME</h2>

            <p>FIXME</p>
          </section>

          <section id="brackets" data-duration="FIXME">
            <h2>FIXME</h2>

            <p>FIXME</p>
          </section>

          <section id="notepadpp" data-duration="FIXME">
            <h2>FIXME</h2>

            <p>FIXME</p>
          </section>

          <section id="vim" data-duration="FIXME">
            <h2>FIXME</h2>

            <p>FIXME</p>
          </section>

          <section id="emacs" data-duration="FIXME">
            <h2>FIXME</h2>

            <p>FIXME</p>
          </section>
        </section> <!-- #babel-editors -->

<!--
  + (03'00") Mes bacs Ã  sable en ligne
 -->

        <section data-state="theme-color-blue-yellow">
          <section id="babel-playgrounds">
            <h3>Comment jâ€™intÃ¨gre Babel dans</h3>
            <h1>mon Ã©diteur en ligne ?</h1>
          </section>

          <section id="jsbin" data-duration="FIXME">
            <h2>FIXME</h2>

            <p>FIXME</p>
          </section>

          <section id="codepen" data-duration="FIXME">
            <h2>FIXME</h2>

            <p>FIXME</p>
          </section>

          <section id="jsfiddle" data-duration="FIXME">
            <h2>FIXME</h2>

            <p>FIXME</p>
          </section>

          <section id="cloud9" data-duration="FIXME">
            <h2>FIXME</h2>

            <p>FIXME</p>
          </section>

          <section id="kodio" data-duration="FIXME">
            <h2>FIXME</h2>

            <p>FIXME</p>
          </section>

          <section id="hyperdev" data-duration="FIXME">
            <h2>FIXME</h2>

            <p>FIXME</p>
          </section>
        </section> <!-- #babel-playgrounds -->

        <section data-state="theme-color-silver-green">
          <section id="babel-builds">
            <h3>Comment jâ€™intÃ¨gre Babel dans</h3>
            <h1>ma chaÃ®ne de buildÂ ?</h1>
          </section>

<!--
  + (08'00") Ma chaÃ®ne de build
 -->

          <section id="browserify" data-duration="FIXME">
            <h2>FIXME</h2>

            <p>FIXME</p>
          </section>

          <section id="webpack" data-duration="FIXME">
            <h2>FIXME</h2>

            <p>FIXME</p>
          </section>

          <section id="rollup" data-duration="FIXME">
            <h2>FIXME</h2>

            <p>FIXME</p>
          </section>

          <section id="gulp" data-duration="FIXME">
            <h2>FIXME</h2>

            <p>FIXME</p>
          </section>

          <section id="grunt" data-duration="FIXME">
            <h2>FIXME</h2>

            <p>FIXME</p>
          </section>
        </section> <!-- #babel-builds -->

        <section data-state="theme-color-forest-yellow">
          <section id="typescript">
            <h1>Et TypeScriptÂ ?</h1>
          </section>

          <section id="typescript-details" data-duration="FIXME">
            <h2>FIXME</h2>

            <p>FIXME</p>
          </section>
        </section> <!-- #typescript -->

				<section>
					<h1>MerciÂ !</h1>
          <h3>Et que JS soit avec vous.</h3>
          <br>
					<p>Christophe Porteneuve</p>
          <p><a href="https://twitter.com/porteneuve">@porteneuve</a></p>

          <p class="breathing">
            Les slides sont sur <a href="http://bit.ly/msexp16-js">bit.ly/msexp16-js</a><br/>
          </p>
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
    <script src="plugin/highlight/prism.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

        width: '95%',
        height: '90%',

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
